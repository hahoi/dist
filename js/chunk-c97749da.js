(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c97749da"],{3666:function(e,t,a){(function(t,a,r){e.exports=r(),e.exports["default"]=r()})(0,0,(function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","‘":"\'","’":"\'","“":"\\"","”":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial"}'),t=JSON.parse('{"vi":{"Đ":"D","đ":"d"}}');function a(a,r){if("string"!==typeof a)throw new Error("slugify: string argument expected");r="string"===typeof r?{replacement:r}:r||{};var n=t[r.locale]||{},o=a.split("").reduce((function(t,a){return t+(n[a]||e[a]||a).replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]/g,"")}),"").trim().replace(/[-\s]+/g,r.replacement||"-");return r.lower?o.toLowerCase():o}return a.extend=function(t){for(var a in t)e[a]=t[a]},a}))},"62c4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"signup"}},[a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("div",{staticClass:"text-center mb-4"},[a("v-overlay",{attrs:{opacity:.5,"z-index":"1",value:e.alert}},[a("v-alert",{attrs:{color:"red",dark:"",transition:"scale-transition"}},[e._v(e._s(e.alertResult))])],1)],1),a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("註冊新帳號")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{link:"",to:"/",icon:"",large:""}},r),[e._v("Login")])]}}])},[a("span",[e._v("離開註冊")])])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:"輸入E-mail",name:"email",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("v-text-field",{attrs:{label:"輸入姓名",rules:[e.rules.required],name:"name",required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("v-text-field",{attrs:{label:"登入代號",rules:[e.rules.required],name:"alias",required:""},model:{value:e.user.alias,callback:function(t){e.$set(e.user,"alias",t)},expression:"user.alias"}}),a("v-select",{attrs:{items:e.department,rules:[e.rules.required],label:"單位名稱",required:""},model:{value:e.user.department,callback:function(t){e.$set(e.user,"department",t)},expression:"user.department"}}),a("v-text-field",{attrs:{label:"連絡電話",rules:[e.rules.required],name:"telphone",required:""},model:{value:e.user.telphone,callback:function(t){e.$set(e.user,"telphone",t)},expression:"user.telphone"}}),a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"password",label:"請輸入密碼",hint:"最少需要8個字元",counter:"",required:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min,e.rules.passwordMath],type:e.show2?"text":"password",name:"repassword",label:"再輸入相同的密碼",hint:"最少需要8個字元",counter:"",required:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.repassword,callback:function(t){e.repassword=t},expression:"repassword"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"success"},on:{click:e.sendEmailVerification}},[e._v("重新發送驗證郵件")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.signup_handle}},[e._v("註冊")])],1)],1)],1)],1),a("v-btn",{attrs:{small:""},on:{click:e.FirebaseAdminTest}},[e._v("admin測試")]),a("v-btn",{attrs:{small:""},on:{click:e.logout}},[e._v("logout")])],1)],1)],1)},n=[],o=(a("4e827"),a("466d"),a("159b"),a("3666")),s=a.n(o),i=a("9138"),l={name:"signup",data:function(){var e=this;return{valid:!1,alertResult:"",alert:!1,show1:!1,show2:!1,department:[],slug:"",password:"00000000",repassword:"00000000",user:{authId:"",email:"a000614@oa.pthg.gov.tw",name:"謝孟良",alias:"000614",department:"研考處",telphone:"",role:[],state:"",memo:""},rules:{required:function(e){return!!e||"這個欄位必須要輸入"},min:function(e){return e.length>=8||"最少需要8個字元"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"不合格式的 e-mail."},length:function(e){return function(t){return(t||"").length<=e||"最多".concat(e,"個字元")}},password:function(e){return(e||"").match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*(_|[^\w])).+$/)||"密碼必須包含大寫英文、數字、特殊字元"},passwordMath:function(t){return t===e.password||"密碼必須相同"}}}},components:{},created:function(){},mounted:function(){var e=this;i["c"].collection("SettingData").doc("Department").get().then((function(t){var a=t.data().depart;a.sort((function(e,t){return e.order-t.order})).forEach((function(t){e.department.push(t.title)}))}))},watch:{},computed:{},methods:{signup_handle:function(){var e=this;if(!this.$refs.form.validate())return e.ShowAlert("輸入資料仍有錯誤！"),!1;this.slug=s()(this.user.alias,{replacement:"-",remove:/[$*_+~.()'"!\-:@]/g,lower:!0}),i["c"].collection("MyAppUsers").doc(this.slug).get().then((function(t){t.exists?e.ShowAlert("這個登入代號已經存在！"):i["b"].createUserWithEmailAndPassword(e.user.email,e.password).then((function(t){i["b"].currentUser.sendEmailVerification(),e.$confirm("請到註冊的郵件信箱收信，<br>點擊連結回傳確認。",{title:"請注意",buttonFalseText:"",buttonTrueText:"知道了"});var a=new Date;e.user.authId=t.user.uid,e.user.createAt=a,console.log(e.user),i["c"].collection("MyAppUsers").doc(e.slug).set(e.user).then((function(){console.log("Document successfully add!")})).catch((function(e){console.log(e)}))})).catch((function(t){var a=t.code;"auth/weak-password"==a&&(a="這個密碼太簡單！"),"auth/email-already-in-use"==a&&(a="這個 email 帳號已經被使用過了！"),"auth/invalid-email"==a&&(a="email 不符規定！"),"auth/operation-not-allowed"==a&&(a="未啟用「電子郵件/密碼」登入方式！"),e.ShowAlert(a)}))})).catch((function(e){console.log(e)}))},sendEmailVerification:function(){var e=this;console.log(i["b"].currentUser),i["b"].currentUser?i["b"].currentUser.sendEmailVerification().then((function(){e.$confirm("請到註冊的郵件信箱收信，<br>點擊連結回傳確認。",{title:"請注意",buttonFalseText:"",buttonTrueText:"知道了"})})).catch((function(t){var a=t.code,r=t.message;e.alertResult=r,"auth/too-many-requests"==a&&(a="已經送出確認連結了！"),e.ShowAlert(a)})):e.ShowAlert("尚未註冊成功！")},FirebaseAdminTest:function(){var e=i["d"].httpsCallable("getUserByEmail");e({email:"a000614@oa.pthg.gov.tw"}).then((function(e){return console.log(e),e.data}));var t=i["d"].httpsCallable("listUsers");t().then((function(e){console.log(e)}))},logout:function(){var e=this;this.$store.dispatch("logout").then((function(){e.$router.push({path:"/login"})})).catch((function(e){throw new Error(error)}))},ShowAlert:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;this.alertResult=e,this.alert=!0,setTimeout((function(){t.alertResult="",t.alert=!1}),a)}}},u=l,c=a("2877"),d=a("6544"),p=a.n(d),h=a("0798"),m=a("7496"),f=a("8336"),v=a("b0af"),w=a("99d9"),g=a("62ad"),b=a("a523"),y=a("a75b"),A=a("4bd4"),E=a("a797"),k=a("0fd9"),x=a("b974"),O=a("2fa4"),U=a("8654"),S=a("71d9"),V=a("2a7f"),T=a("3a2f"),q=Object(c["a"])(u,r,n,!1,null,null,null);t["default"]=q.exports;p()(q,{VAlert:h["a"],VApp:m["a"],VBtn:f["a"],VCard:v["a"],VCardActions:w["b"],VCardText:w["d"],VCol:g["a"],VContainer:b["a"],VContent:y["a"],VForm:A["a"],VOverlay:E["a"],VRow:k["a"],VSelect:x["a"],VSpacer:O["a"],VTextField:U["a"],VToolbar:S["a"],VToolbarTitle:V["c"],VTooltip:T["a"]})}}]);