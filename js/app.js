(function(e){function t(t){for(var r,o,u=t[0],c=t[1],l=t[2],d=0,s=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&s.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(s.length)s.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},i={app:0},a=[];function u(e){return c.p+"js/"+({}[e]||e)+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-3629a9ba":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+".css",i=c.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var l=a[u],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===r||d===i))return t()}var s=document.getElementsByTagName("style");for(u=0;u<s.length;u++){l=s[u],d=l.getAttribute("data-href");if(d===r||d===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],f.parentNode.removeChild(f),n(a)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=a);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=u(e);var s=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,n[1](s)}i[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/dist/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var f=d;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"41cb":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return h}));n("a4d3"),n("4de4"),n("c975"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("159b");var r=n("ade3"),o=n("2b0e"),i=n("8c4f"),a=n("6fa2"),u=n("c0d6"),c=n("9138");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o["a"].use(i["a"]);var s=[{path:"/",hidden:!1,component:function(){return n.e("chunk-2d221fb8").then(n.bind(null,"cd56"))},meta:{title:"Main"},children:[{path:"/ProgressList",component:function(){return Promise.all([n.e("chunk-14c3a650"),n.e("chunk-3629a9ba")]).then(n.bind(null,"86a7"))},meta:{title:"進度填報",role:"進度填報",icon:"mdi-home"}},{path:"/Pcalendar",component:function(){return Promise.all([n.e("chunk-14c3a650"),n.e("chunk-269d3e21")]).then(n.bind(null,"6f30"))},meta:{title:"期程檢核",role:"期程檢核",icon:"mdi-home"}},{path:"/project",component:function(){return Promise.all([n.e("chunk-14c3a650"),n.e("chunk-269c77bc")]).then(n.bind(null,"616c"))},meta:{title:"專案管理",role:"專案管理",icon:"mdi-home"}},{path:"/worklist",component:function(){return Promise.all([n.e("chunk-14c3a650"),n.e("chunk-90ccf282")]).then(n.bind(null,"0b06"))},meta:{title:"工項管理",role:"工項管理",icon:"mdi-home",divider:!0}},{path:"/treeview",component:function(){return n.e("chunk-2d0d0f8b").then(n.bind(null,"69f8"))},meta:{title:"treeview",role:"treeview",icon:"mdi-home"}},{path:"/page1",component:function(){return n.e("chunk-2d215cd2").then(n.bind(null,"c06e"))},meta:{title:"第一頁",role:"第一頁",icon:"mdi-home"}},{path:"/page2",component:function(){return n.e("chunk-2d0c8f65").then(n.bind(null,"56b0"))},meta:{title:"第二頁",role:"第二頁",icon:"mdi-contact-mail",divider:!0}},{path:"/Users",component:function(){return Promise.all([n.e("chunk-14c3a650"),n.e("chunk-2d2308ce")]).then(n.bind(null,"ed81"))},meta:{title:"使用者管理",role:"使用者管理",icon:"mdi-account"}}]}],f=[{path:"/login",name:"login",component:function(){return n.e("chunk-c94c0a9e").then(n.bind(null,"dd7b"))}},{path:"/signup",name:"signup",component:function(){return n.e("chunk-c97749da").then(n.bind(null,"62c4"))}}],h=a["a"].deepCopy(s),p=new i["a"]({mode:"history",base:"/dist/",routes:f});t["b"]=p,p.beforeEach((function(e,t,n){if(u["a"].getters.userId)if(0!==u["a"].getters.newRouter.length)n();else if(u["a"].getters.user){var r=s,o=s[0].children.filter((function(e){if(e.meta)return-1!==u["a"].getters.user.role.indexOf(e.meta.role)}));r[0].children=o,p.addRoutes(r),u["a"].dispatch("saveRoles",r).then((function(t){n(d({},e))}))}else c["d"].collection("MyAppUsers").where("authId","==",u["a"].getters.userId).get().then((function(t){var r={};t.forEach((function(e){r={authId:e.data().authId,email:e.data().email,department:e.data().department,name:e.data().name,alias:e.data().alias,role:e.data().role,state:e.data().state,memo:e.data().memo}})),u["a"].dispatch("loginSet",r).then((function(){console.log("重新讀取使用者資料成功")})).catch((function(){console.log("重新讀取使用者資料失敗")}));var o=s,i=s[0].children.filter((function(e){if(e.meta)return-1!==u["a"].getters.user.role.indexOf(e.meta.role)}));o[0].children=i,p.addRoutes(o),u["a"].dispatch("saveRoles",o).then((function(t){n(d({},e))}))}));else"/login"==e.path||"/signup"==e.path?n():n("/login")}))},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("transition",{attrs:{mode:"out-in"}},[n("router-view")],1)],1)},i=[],a={name:"App",computed:{},created:function(){var e=this.$util.getWindowSize();e.height>1.2*e.width&&(this.$store.commit("storeDevice","Mobile"),console.log("It's Mobile")),e.height<=1.2*e.width&&(this.$store.commit("storeDevice","PC"),console.log("It's PC"))}},u=a,c=n("2877"),l=n("6544"),d=n.n(l),s=n("7496"),f=Object(c["a"])(u,o,i,!1,null,null,null),h=f.exports;d()(f,{VApp:s["a"]});var p=n("f309");r["a"].use(p["a"]);var v=new p["a"]({}),m=n("c0d6"),g=n("41cb"),b=(n("d3b7"),n("e25e"),n("25f0"),n("466d"),n("5319"),n("1276"),{cutStr:function(e,t){try{return e.length>t?e.substring(0,t)+"...":e}catch(n){return""}},verifyEmail:function(e){if(null==e||void 0==e)return!1;var t=/^[0-9A-Za-z_]+@[0-9A-Za-z]+\.[A-Za-z]+/;return t.test(e)},utcToLocal:function(e){var t=function(e){return e>=10?e:"0"+e},n=e.split(/[^0-9]/),r=new Date(n[0],n[1]-1,n[2],n[3],n[4],n[5]),o=new Date(r.getTime()+288e5);return t(o.getFullYear())+"-"+t(o.getMonth()+1)+"-"+t(o.getDate())+" "+t(o.getHours())+":"+t(o.getMinutes())+":"+t(o.getSeconds())},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))},randomInt:function(e,t){var n=t-e;if(n<0)return e;var r=Math.random()*n+e;return r=parseInt(r,10),r},copy:function(e){var t,n=document.createElement("input");n.value=e,document.body.appendChild(n),n.select();try{t=document.execCommand("copy")}catch(r){}return document.body.removeChild(n),t},formatTime:function(e){var t=parseInt(e),n=parseInt(t/60),r=parseInt(t%60);return(n<10?"0":"")+parseInt(t/60)+":"+(r<10?"0":"")+parseInt(t%60)},getWindowSize:function(){var e={};return e.width=window.innerWeight||document.documentElement.clientWidth||document.body.clientWidth,e.height=window.innerWeight||document.documentElement.clientHeight||document.body.clientHeight,e},addHttp:function(e){return(e.match(/https?:\/\//i)?"":"https://")+e}}),y=n("9eed"),w=n.n(y),O=n("83df"),x=(n("8128"),n("1816"),n("4e1d")),j=n.n(x),A=(n("0808"),n("6944")),I=n.n(A);r["a"].prototype.$util=b,r["a"].use(w.a,{vuetify:v}),r["a"].use(O["a"],{context:{vuetify:v}}),r["a"].use(j.a),r["a"].use(I.a),r["a"].config.productionTip=!1,new r["a"]({vuetify:v,store:m["a"],router:g["b"],render:function(e){return e(h)}}).$mount("#app")},"6fa2":function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("4de4"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("b680"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("acd8"),n("25f0"),n("3ca3"),n("5319"),n("1276"),n("159b"),n("ddb0");var r=n("2909"),o=n("ade3"),i=n("53ca");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={cloneJSON:function(e){if(null===e||void 0===e||"object"!==Object(i["a"])(e))return e;if(e instanceof Array){for(var t=[],n=0;n<e.length;++n)t[n]=this.cloneJSON(e[n]);return t}var r={};for(var o in e)"title"!=o&&"id"!=o&&"children"!=o&&"expanded"!=o||(r[o]=this.cloneJSON(e[o]));return r},deepCopy:function(e){if(null===e||void 0===e||"object"!==Object(i["a"])(e))return e;if(e instanceof Array){for(var t=[],n=0;n<e.length;++n)t[n]=this.deepCopy(e[n]);return t}var r={};for(var n in e)r[n]=this.deepCopy(e[n]);return r},DBdeepCopy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===e||void 0===e||"object"!==Object(i["a"])(e))return e;if(e instanceof Array){for(var n=[],r=0;r<e.length;++r)n[r]=this.DBdeepCopy(e[r],r);return n}var o={};for(var a in o.key=t,e)o[a]=this.DBdeepCopy(e[a],t);return o},jsonToArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)e[r]["pid"]=t,n.push(e[r]),Array.isArray(e[r]["children"])&&e[r]["children"].length>0&&(n=n.concat(this.jsonToArray(e[r]["children"],e[r]["id"]))),delete e[r]["children"];return n},arrayToJson:function(e){var t=e.filter((function(t){var n=e.filter((function(e){return t.id==e.pid}));return n.length>0&&(t.children=n),0==t.pid}));return t},arrayTransTree:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pid",r=[],o={},i=0;i<e.length;i++)o[e[i][t]]=e[i];for(var a=0;a<e.length;a++){var u=o[e[a][n]];u?(u["nodes"]||(u["nodes"]=[]),u["nodes"].push(e[a])):r.push(e[a])}return r},arrayToTree:function(e){for(var t=[],n={},r=0,o=e.length;r<o;r++)n[e[r]["id"]]=e[r];for(var i=0,a=e.length;i<a;i++){var u=n[e[i]["pid"]];u?(u["children"]||(u["children"]=[]),u["children"].push(e[i])):t.push(e[i])}return t},render:function(e){var t=this;if(!Array.isArray(e)||e.length<=0)return"";var n="<ul>";return e.forEach((function(e){var r=Array.isArray(e.children)&&e.children.length>0?"dir":"file";n+="<li>"+t.RemoveHTML(e.title)+r,Array.isArray(e.children)&&e.children.length>0&&(r="dir",n+=t.render(e.children)),n+="</li>"})),n+="</ul>",n},getTree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[];for(var o in e){var i=e[o];(n||i.pid)&&i.pid!==n||i.id===t||r.push(u({key:i.id,value:i.id+"",label:i.name,children:this.getTree(e,t,i.id)},i))}return r.length?r:void 0},getTreeParents:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,o=[];do{var i=!0,a=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var d=c.value;d.id===r&&(e=d)}}catch(g){a=!0,u=g}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}if(e&&e.pid){r=e.pid;var s=!0,f=!1,h=void 0;try{for(var p,v=t[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){var m=p.value;m.id===r&&o.push(m)}}catch(g){f=!0,h=g}finally{try{s||null==v.return||v.return()}finally{if(f)throw h}}}}while(e&&e.pid);return o},getTreeAllChildren:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=!0,i=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(l.pid===t.id){n.push(l);var d=this.getTreeAllChildren(e,l);d&&n.push.apply(n,Object(r["a"])(d))}}}catch(s){i=!0,a=s}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return n},my_unique:function(e){e=e.concat();for(var t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)e[t]===e[n]&&e.splice(n,1);return e},parsePath:function(e){var t=[];return n(e,[]),t[0];function n(e,r){if(!e||e.length<=0)return t.push(r.slice());for(var o=0;o<e.length;o++){var i=e[o];r.push(i.name),n(i.children,r),r.pop()}}},twoDim_to_oneDim:function(e){return result=[].concat.apply([],e)},RemoveHTML:function(e){var t=/<[^>]*>/g;return e.replace(t,"")},addCommas:function(e){e+="";var t=e.split("."),n=t[0],r=t.length>1?"."+t[1]:"",o=/(\d+)(\d{3})/;while(o.test(n))n=n.replace(o,"$1,$2");return n+r},pad:function(e){return e<10?"0"+e:e},DateStringID:function(e){return e.getUTCFullYear()+pad(e.getUTCMonth()+1)+pad(e.getUTCDate())},cal_quality:function(e){var t=48e4/parseFloat(e);return t<.1?t=.1:t>=.9&&(t=.9),t.toFixed(1)},change_latlng:function(e){var t=e;return parseFloat(t[0]+t[1]/60+t[2]/3600)},in_array:function(e,t){for(var n=t.split(","),r=0;r<n.length;r++){var o=n[r].toString();if(o==e)return!0}return!1},inArray:function(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return!0;return!1},capitalMoney:function(e){try{var t=1,n=new Array("","萬","億"),r=new Array("拾","佰","仟"),o=new Array("零","壹","貳","參","肆","伍","陸","柒","捌","玖"),i=this.splits(e),a=(i[0],i[1]),u=0,c=0,l=0,d="",s=i[0].length;for(t=1;t<=s;t++){var f=i[0].charAt(s-t),h=0;if(s-t-1>=0&&(h=i[0].charAt(s-t-1)),l+=Number(f),0!=l&&(d=o[Number(f)].concat(d),"0"==f&&(l=0)),s-t-1>=0)if(3!=u)0!=h&&(d=r[u].concat(d)),u++;else{u=0;var p=d.charAt(0);"万"!=p&&"亿"!=p||(d=d.substr(1,d.length-1)),d=n[c].concat(d),l=0}3==u&&c++}var v="";if(""!=a){var m=a.charAt(0);0!=m&&(v+=o[Number(m)]+"角"),m=a.charAt(1),0!=m&&(v+=o[Number(m)]+"分")}d+="元"+v}catch(g){return"0元"}return d},splits:function(e){for(var t=new Array("",""),n=e.split("."),r=0;r<n.length;r++)t=n;return t}}},9138:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return f}));var r=n("59ca"),o=n.n(r),i=(n("66ce"),n("e71f"),n("588e"),n("ea7b"),n("8934"),{apiKey:"AIzaSyDULgg9oarIWldmJPw0wio8wQlWWvvJZEo",authDomain:"pthg-6750e.firebaseapp.com",databaseURL:"https://pthg-6750e.firebaseio.com",projectId:"pthg-6750e",storageBucket:"pthg-6750e.appspot.com",messagingSenderId:"961587834250"}),a=o.a.initializeApp(i),u=a.auth(),c=a.database(),l=a.firestore(),d=a.storage(),s=a.functions(),f="TLFMCD"},c0d6:function(e,t,n){"use strict";n("d3b7"),n("96cf");var r=n("2b0e"),o=n("2f62");r["a"].use(o["a"]);var i={device:"",userId:"undefined"===sessionStorage.getItem("uid")?"":sessionStorage.getItem("uid"),user:null,projectEndDate:"2025-07-31",loading:!0,LevelOneID:"1234567890abc",newRouter:[],workItemData:{}},a={device:function(e){return e.device},userId:function(e){return e.userId},user:function(e){return e.user},projectEndDate:function(e){return e.projectEndDate},loading:function(e){return e.loading},newRouter:function(e){return e.newRouter},workItemData:function(e){return e.workItemData}},u={setLoading:function(e,t){e.loading=t},storeDevice:function(e,t){e.device=t},storeUserId:function(e,t){e.userId=t},storeUser:function(e,t){e.user=t},clearUserId:function(e){e.userId=null},setNewRouter:function(e,t){e.newRouter=t},setWorkItemData:function(e,t){e.workItemData=t}},c={saveRoles:function(e,t){var n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.abrupt("return",new Promise((function(e){n("setNewRouter",t),e(t)})).catch((function(e){console.log("catch:",e)})));case 2:case"end":return r.stop()}}))},loginSet:function(e,t){var n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.abrupt("return",new Promise((function(e){n("storeUserId",t.authId),n("storeUser",t),sessionStorage.setItem("uid",t.authId),e(t)})));case 5:throw r.prev=5,r.t0=r["catch"](1),new Error(r.t0);case 8:case"end":return r.stop()}}),null,null,[[1,5]])},logout:function(e){var t;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,n.prev=1,n.abrupt("return",new Promise((function(e){t("storeUserId",""),t("storeUser",null),location.reload(),sessionStorage.removeItem("uid"),e()})));case 5:throw n.prev=5,n.t0=n["catch"](1),new Error(n.t0);case 8:case"end":return n.stop()}}),null,null,[[1,5]])}};t["a"]=new o["a"].Store({state:i,getters:a,mutations:u,actions:c})}});